Here’s a structured implementation guide documentation for the Upstox order management APIs you listed, designed for a developer to understand, integrate, and use each API effectively.

Upstox Order Management APIs – Implementation Guide
1. Place Multi Order V2 (Sandbox Enabled)
Purpose

Allows placing multiple orders in a single request (up to 25). Each order must have a unique correlation_id.

Endpoint

Sandbox: POST https://api-sandbox.upstox.com/v2/order/multi/place

Live: POST https://api.upstox.com/v2/order/multi/place

Authorization: Bearer token

Request Body

Each order object requires:

Name	Required	Type	Description
correlation_id	true	string	Unique ID per order line (max 20 chars).
quantity	true	int	Number of units.
product	true	string	Product type (e.g., D, MIS, NRML).
validity	true	string	Order validity (DAY/IOC).
price	true	float	Order price.
order_type	true	string	MARKET, LIMIT, SL, SL-M.
transaction_type	true	string	BUY/SELL.
tag	false	string	Optional label (max 40 chars).
instrument_token	true	string	Exchange
disclosed_quantity	false	int	Display quantity.
trigger_price	false	float	For stop loss orders.
is_amo	false	bool	Ignored; auto-inferred.
slice	false	bool	Enables auto slicing for large orders.
Execution Sequence

Executes all BUY orders first, then SELL orders.

Auto-slicing splits large orders exceeding exchange freeze quantity.

Responses

Success (200): All orders placed.

Partial Success (207): Some orders failed.

Error (4XX): All orders failed or invalid payload.

Sample Response
{
  "status": "success",
  "data": [
    {"correlation_id": "1", "order_id": "1644490272000"},
    {"correlation_id": "2", "order_id": "2134134141414"}
  ],
  "summary": {"total":2, "payload_error":0, "success":2, "error":0}
}

2. Modify Order V3 (Sandbox Enabled)
Purpose

Modify an existing open/pending order.

Endpoint

Sandbox: PUT https://api-sandbox.upstox.com/v3/order/modify

Live: PUT https://api-hft.upstox.com/v3/order/modify

Authorization: Bearer token

Request Body
Name	Required	Type	Description
order_id	true	string	ID of the order to modify.
quantity	false	int	New order quantity.
validity	true	string	DAY or IOC.
price	true	float	New price.
order_type	true	string	MARKET, LIMIT, SL, SL-M.
disclosed_quantity	false	int	Displayed quantity.
trigger_price	true	float	Required for stop loss orders.
Response
{
  "status": "success",
  "data": {"order_id": "1644490272000"},
  "metadata": {"latency": 40}
}


metadata.latency: API processing time in ms.

3. Cancel Order V3 (Sandbox Enabled)
Purpose

Cancel a specific open/pending order.

Endpoint

Sandbox: DELETE https://api-sandbox.upstox.com/v3/order/cancel?order_id={order_id}

Live: DELETE https://api-hft.upstox.com/v3/order/cancel

Authorization: Bearer token

Response
{
  "status": "success",
  "data": {"order_id": "1644490272000"},
  "metadata": {"latency": 30}
}

4. Cancel Multi Order
Purpose

Cancel multiple open orders at once; filter by segment or tag.

Endpoint

DELETE https://api.upstox.com/v2/order/multi/cancel

Max 50 orders per request.

Query Parameters
Name	Required	Description
segment	false	NSE_EQ, BSE_EQ, NSE_FO, etc.
tag	false	Tag used to filter orders.
Response
{
  "status": "success",
  "data": {"order_ids": ["1644490272000","1644490272001"]},
  "summary": {"total":2,"success":2,"error":0}
}

5. Exit All Positions
Purpose

Exit all open positions; can filter by segment or tag.

Endpoint

POST https://api.upstox.com/v2/order/positions/exit

Authorization: Bearer token

Query Parameters
Name	Required	Description
segment	false	NSE_EQ, NSE_FO, etc.
tag	false	Only intraday positions; ignored for carry-forwarded positions.
Execution Sequence

BUY positions exited first, then SELL positions.

Auto slicing splits large positions exceeding exchange freeze quantity.

Response
{
  "status": "success",
  "data": {"order_ids":["1644490272000","1644490272001"]},
  "summary":{"total":2,"success":2,"error":0}
}

6. Get Order Details

Endpoint: GET /v2/order/{order_id}

Returns: Full details of a single order.

7. Get Order History

Endpoint: GET /v2/orders/history

Returns: List of past orders, filtered by segment/date/tag.

8. Get Order Book

Endpoint: GET /v2/order/book

Returns: Current open orders in the system.

9. Get Trades

Endpoint: GET /v2/trades

Returns: List of executed trades, with timestamp and quantities.

10. Get Order Trades

Endpoint: GET /v2/order/{order_id}/trades

Returns: Trades executed under a specific order.

11. Get Trade History

Endpoint: GET /v2/trades/history

Returns: Historical trades filtered by instrument, date, or tag.

Notes & Best Practices

Correlation ID: Use unique IDs for multi-order tracking. For auto-sliced orders, IDs get suffixes.

Auto Slicing: Always use slice: true for large orders to prevent rejections due to freeze quantity limits.

Order Execution Sequence: BUYs always execute before SELLs to ensure consistency.

Error Handling: Partial success responses (207) require checking which orders failed.

Tag Usage: Tags are primarily for intraday categorization. Carry-forwarded positions ignore tags.

Rate Limits: Multi-order and cancel-multi APIs have separate rate limits; monitor usage to avoid throttling.

Latency Metrics: Modify and Cancel APIs return latency in ms for internal monitoring.

Maintenance Window: Multi-order API is unavailable daily from 12:00 AM to 5:30 AM IST.