Below is a complete, enterprise-grade frontend implementation guide to start with the User Login page, fully compliant with your existing Java backend auth architecture, using Vite + React.
This is written assuming zero backend changes, strict API alignment, and future extensibility toward Bloomberg-style terminals.

1. Authentication Architecture Alignment (Frontend View)

Your backend authentication is not a traditional OAuth redirect login. It is an operator-driven token orchestration system with:

Selenium-based login automation

Token lifecycle orchestration

Multi-API key handling

Resume / cooldown / fault tolerance

Persistent token store (upstox_tokens)

Therefore, the frontend role is orchestration & observability, not credential ownership.

Frontend responsibilities
Responsibility	Yes / No
Initiate login	Yes
Collect credentials	Yes (secure)
Store access token	No
Handle OAuth redirect	No
Trigger token generation	Yes
Monitor token status	Yes
Expose admin vs user flows	Yes
2. Frontend Tech Stack (Recommended)
Layer	Choice	Reason
Build	Vite	Ultra-fast HMR
Framework	React 18	Concurrent safe
State	Zustand	Minimal, predictable
HTTP	Axios	Interceptors
Forms	React Hook Form	Secure & controlled
UI	Tailwind + Headless UI	Terminal-grade UI
Auth Guard	Custom	Backend-driven auth
Charts (later)	ECharts / TradingView	Greeks surfaces
3. Environment Configuration
.env
VITE_API_BASE_URL=http://localhost:8080
VITE_APP_ENV=DEV

4. API Contracts (Strict Mapping)
4.1 Login Automation Trigger
Endpoint
POST /api/v1/auth/selenium/login

Request
{
  "clientCode": "ABC123",
  "password": "******",
  "totp": "123456",
  "apiName": "PRIMARY"
}

Response
{
  "status": "STARTED",
  "message": "Login automation initiated"
}


Frontend never receives access tokens.

4.2 Token Generation
Endpoint
POST /api/auth/upstox/tokens/generate

{
  "mode": "ALL"
}

4.3 Token Status Polling

(Recommended custom endpoint if not already present)

GET /api/auth/upstox/tokens/status

{
  "PRIMARY": {
    "valid": true,
    "expiresAt": "2025-01-10T09:15:00"
  }
}

5. Frontend Project Structure
frontend/
 ├─ src/
 │   ├─ api/
 │   │   └─ authApi.ts
 │   ├─ store/
 │   │   └─ authStore.ts
 │   ├─ pages/
 │   │   └─ LoginPage.tsx
 │   ├─ components/
 │   │   └─ SecureInput.tsx
 │   ├─ router/
 │   │   └─ AppRouter.tsx
 │   └─ main.tsx
 └─ vite.config.ts

6. Auth API Client
src/api/authApi.ts
import axios from "axios";

export const api = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL,
  timeout: 30000
});

export const triggerLogin = (payload: any) =>
  api.post("/api/v1/auth/selenium/login", payload);

export const generateTokens = () =>
  api.post("/api/auth/upstox/tokens/generate", { mode: "ALL" });

export const fetchTokenStatus = () =>
  api.get("/api/auth/upstox/tokens/status");

7. Auth State Management (Zustand)
src/store/authStore.ts
import { create } from "zustand";

interface AuthState {
  status: "IDLE" | "LOGGING_IN" | "ACTIVE" | "ERROR";
  error?: string;
  setStatus: (s: AuthState["status"]) => void;
}

export const useAuthStore = create<AuthState>((set) => ({
  status: "IDLE",
  setStatus: (status) => set({ status })
}));

8. Secure Login Page Implementation
src/pages/LoginPage.tsx
import { useForm } from "react-hook-form";
import { triggerLogin } from "../api/authApi";
import { useAuthStore } from "../store/authStore";

export default function LoginPage() {
  const { register, handleSubmit } = useForm();
  const setStatus = useAuthStore(s => s.setStatus);

  const onSubmit = async (data: any) => {
    try {
      setStatus("LOGGING_IN");
      await triggerLogin(data);
      setStatus("ACTIVE");
    } catch (e: any) {
      setStatus("ERROR");
    }
  };

  return (
    <div className="h-screen flex items-center justify-center bg-black text-green-400">
      <form onSubmit={handleSubmit(onSubmit)} className="space-y-4 w-96">
        <h1 className="text-xl font-bold">Vega Trader Login</h1>

        <input {...register("clientCode")} placeholder="Client Code" />
        <input type="password" {...register("password")} placeholder="Password" />
        <input {...register("totp")} placeholder="TOTP" />

        <button className="w-full bg-green-600 text-black py-2">
          Initiate Secure Login
        </button>
      </form>
    </div>
  );
}

9. Routing Guard (Backend-Driven)
if (authStatus !== "ACTIVE") {
  return <Navigate to="/login" />;
}


Auth validity is determined by token status API, not frontend state.

10. CLI & cURL Compatibility
cURL
curl -X POST http://localhost:8080/api/v1/auth/selenium/login \
 -H "Content-Type: application/json" \
 -d '{"clientCode":"ABC","password":"XXX","totp":"123456"}'

CLI Tool (Node)
node login.js --client ABC --totp 123456


Frontend and CLI use identical APIs.

11. Security & Compliance Controls
Control	Implementation
No token exposure	Backend only
TOTP masking	Input + no storage
Audit logging	Backend enforced
Replay protection	TokenAuditService
SEBI compliance	Full audit trail
Credential retention	Zero
12. Operator SOP (Frontend)

Open Login Page

Enter broker credentials

Submit

Monitor token status page

Proceed to trading dashboards only after ACTIVE

13. What Comes Next (Recommended Order)

Token Status Dashboard

Role-based UI (Admin / Trader)

Order Book View

Option Chain Live Grid

Greeks Surface Panels

Latency Heatmaps

Audit Export UI