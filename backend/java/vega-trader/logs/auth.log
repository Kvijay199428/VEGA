2026-01-01 03:07:11.961 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 03:07:14.212 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 03:07:14.213 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:14.213 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 03:07:14.213 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:14.215 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 03:07:14.215 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 03:07:14.215 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 03:07:14.215 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 03:07:14.215 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 03:07:14.215 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 03:07:14.216 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:14.216 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 03:07:14.216 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:14.249 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 03:07:14.250 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 03:07:14.264 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 03:07:14.267 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 03:07:14.269 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 03:07:14.272 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 03:07:14.334 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 03:07:14.334 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:14.334 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 03:07:14.334 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 03:07:14.338 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:16.837 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 03:07:16.841 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 03:07:16.841 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 03:07:16.842 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:16.842 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 03:07:16
2026-01-01 03:07:16.842 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:16.843 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 03:07:16.844 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 0h 22m
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 0h 22m
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 0h 22m
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 0h 22m
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 0h 22m
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 0h 22m
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 03:07:16.845 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:02.344 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 11:43:05.173 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 11:43:05.174 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:05.174 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 11:43:05.174 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:05.175 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 11:43:05.177 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 11:43:05.178 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 11:43:05.179 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 11:43:05.179 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 11:43:05.179 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 11:43:05.179 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:05.180 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 11:43:05.180 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:05.213 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 11:43:05.215 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 11:43:05.224 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 11:43:05.230 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 11:43:05.234 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 11:43:05.235 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 11:43:05.303 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 11:43:05.304 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:05.304 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 11:43:05.304 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:05.309 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 11:43:05.309 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 11:43:05.309 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 11:43:05.309 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 11:43:05.309 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 11:43:05.310 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 11:43:05.311 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:05.311 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 11:43:05.312 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:08.314 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 11:43:08.317 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 11:43:08.317 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 11:43:08.320 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 11:43:08.321 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 11:43:08.322 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 11:43:08.445 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 11:43:08.448 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 0 / 6
2026-01-01 11:43:08.449 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: [WEBSOCKET_1, OPTION_CHAIN_1, WEBSOCKET_2, OPTION_CHAIN_2, WEBSOCKET_3, PRIMARY]
2026-01-01 11:43:08.449 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:08.450 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 11:43:08
2026-01-01 11:43:08.450 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:08.452 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 0 valid tokens in database
2026-01-01 11:43:08.453 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:43:08.454 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=0 | Missing=6
2026-01-01 11:43:08.454 [restartedMain] WARN  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ⚠ 6 token(s) require generation
2026-01-01 11:43:08.455 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:48:08.348 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 11:48:08.349 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 11:48:08.349 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 11:48:08.349 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 11:48:08.349 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 11:48:08.350 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 11:53:08.353 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 11:53:08.353 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 11:53:08.353 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 11:53:08.353 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 11:53:08.353 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 11:53:08.354 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           s) require generation
2026-01-01 11:55:53.415 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:25.436 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 11:58:27.025 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 11:58:27.026 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:27.026 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 11:58:27.026 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 11:58:27.027 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:27.046 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 11:58:27.048 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 11:58:27.056 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 11:58:27.061 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 11:58:27.064 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 11:58:27.066 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 11:58:27.096 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 11:58:27.097 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:27.098 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 11:58:27.099 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:27.102 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 11:58:27.102 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 11:58:27.102 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 11:58:27.103 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 11:58:27.103 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 11:58:27.103 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 11:58:27.103 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:27.104 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 11:58:27.104 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:28.171 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 11:58:28.171 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 11:58:28.172 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 11:58:28.173 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 11:58:28.173 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 11:58:28.174 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 11:58:28.175 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 0 / 6
2026-01-01 11:58:28.176 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 11:58:28.177 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: [WEBSOCKET_1, OPTION_CHAIN_1, WEBSOCKET_2, OPTION_CHAIN_2, WEBSOCKET_3, PRIMARY]
2026-01-01 11:58:28.178 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:28.178 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 11:58:28
2026-01-01 11:58:28.178 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:28.182 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 0 valid tokens in database
2026-01-01 11:58:28.182 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 11:58:28.185 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=0 | Missing=6
2026-01-01 11:58:28.185 [restartedMain] WARN  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ⚠ 6 token(s) require generation
2026-01-01 11:58:28.187 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:12.358 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 12:02:13.469 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 12:02:13.470 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 12:02:13.472 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:13.472 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 12:02:13.472 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:13.487 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 12:02:13.489 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:02:13.496 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:02:13.499 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:02:13.501 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:02:13.503 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:02:13.542 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 12:02:13.542 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:13.542 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 12:02:13.542 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:13.544 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 12:02:13.544 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 12:02:13.544 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 12:02:13.544 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 12:02:13.544 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 12:02:13.544 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 12:02:13.545 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:13.545 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 12:02:13.545 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:15.003 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 12:02:15.012 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 0 / 6
2026-01-01 12:02:15.018 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: [WEBSOCKET_1, OPTION_CHAIN_1, WEBSOCKET_2, OPTION_CHAIN_2, WEBSOCKET_3, PRIMARY]
2026-01-01 12:02:15.019 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:02:15.019 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:15.019 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:02:15.020 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 12:02:15
2026-01-01 12:02:15.020 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:02:15.020 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:15.022 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:02:15.023 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 0 valid tokens in database
2026-01-01 12:02:15.025 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:02:15.026 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:02:15.026 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:02:15.027 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=0 | Missing=6
2026-01-01 12:02:15.027 [restartedMain] WARN  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ⚠ 6 token(s) require generation
2026-01-01 12:02:15.028 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:07:15.030 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:07:15.031 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:07:15.031 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:07:15.031 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:07:15.031 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:07:15.031 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:12:15.051 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:12:15.052 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:12:15.053 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:12:15.053 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:12:15.054 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:12:15.054 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:17:15.058 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:17:15.061 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:17:15.063 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:17:15.064 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:17:15.065 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:17:15.069 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:22:15.073 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:22:15.074 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:22:15.074 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:22:15.074 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:22:15.075 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:22:15.075 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:27:15.078 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:27:15.078 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:27:15.079 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:27:15.079 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:27:15.079 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:27:15.080 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:32:15.082 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:32:15.082 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:32:15.083 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:32:15.083 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:32:15.083 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:32:15.084 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:37:15.087 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:37:15.087 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:37:15.087 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:37:15.087 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:37:15.087 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:37:15.087 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:42:15.092 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:42:15.094 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:42:15.097 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:42:15.097 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:42:15.098 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:42:15.099 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:43:21.985 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 12:43:23.570 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:43:23.572 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:23.572 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 12:43:23.572 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 12:43:23.574 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:23.593 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 12:43:23.596 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:43:23.609 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:43:23.611 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:43:23.617 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:43:23.622 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:43:23.681 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 12:43:23.682 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:23.685 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 12:43:23.686 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:23.695 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 12:43:23.697 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 12:43:23.697 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 12:43:23.702 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 12:43:23.703 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 12:43:23.705 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 12:43:23.706 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:23.707 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 12:43:23.709 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:25.987 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:43:25.987 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:43:25.988 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:43:25.988 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:43:25.988 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:43:25.989 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:43:25.989 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 12:43:25.993 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 0 / 6
2026-01-01 12:43:25.993 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: [WEBSOCKET_1, OPTION_CHAIN_1, WEBSOCKET_2, OPTION_CHAIN_2, WEBSOCKET_3, PRIMARY]
2026-01-01 12:43:25.993 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:25.993 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 12:43:25
2026-01-01 12:43:25.993 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:25.995 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 0 valid tokens in database
2026-01-01 12:43:25.996 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:43:25.996 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=0 | Missing=6
2026-01-01 12:43:25.996 [restartedMain] WARN  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ⚠ 6 token(s) require generation
2026-01-01 12:43:25.996 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:48:25.997 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:48:25.998 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:48:25.999 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:48:25.999 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:48:25.999 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:48:25.999 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:50:10.287 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 12:50:12.106 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:50:12.108 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:12.108 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 12:50:12.108 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:12.110 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 12:50:12.110 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 12:50:12.110 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 12:50:12.111 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 12:50:12.111 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 12:50:12.111 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 12:50:12.112 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:12.112 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 12:50:12.112 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:12.130 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 12:50:12.132 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:50:12.142 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:50:12.146 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:50:12.149 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 12:50:12.152 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 12:50:12.192 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 12:50:12.192 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:12.192 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 12:50:12.192 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:12.194 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 12:50:12.194 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 12:50:12.194 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 12:50:12.195 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 12:50:12.195 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 12:50:12.195 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 12:50:12.195 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:12.195 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 12:50:12.196 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:13.653 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:50:13.653 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:50:13.654 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token PRIMARY is expiring soon. Triggering refresh...
2026-01-01 12:50:13.654 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_1 is expiring soon. Triggering refresh...
2026-01-01 12:50:13.656 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_2 is expiring soon. Triggering refresh...
2026-01-01 12:50:13.657 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 12:50:13.657 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token WEBSOCKET_3 is expiring soon. Triggering refresh...
2026-01-01 12:50:13.660 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 0 / 6
2026-01-01 12:50:13.661 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: [WEBSOCKET_1, OPTION_CHAIN_1, WEBSOCKET_2, OPTION_CHAIN_2, WEBSOCKET_3, PRIMARY]
2026-01-01 12:50:13.669 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:13.669 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 12:50:13
2026-01-01 12:50:13.670 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:13.672 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 0 valid tokens in database
2026-01-01 12:50:13.673 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:50:13.673 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=0 | Missing=6
2026-01-01 12:50:13.673 [restartedMain] WARN  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ⚠ 6 token(s) require generation
2026-01-01 12:50:13.674 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:52:52.120 [http-nio-28020-exec-3] INFO  c.v.u.a.c.LoginAutomationController | sid= uid= tid= | [SSE] Client subscribed to auth progress
2026-01-01 12:52:52.139 [http-nio-28020-exec-4] INFO  c.v.u.a.c.LoginAutomationController | sid= uid= tid= | AUDIT: Async batch login initiated | Headless: true
2026-01-01 12:52:52.139 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:52:52.139 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ASYNC BATCH LOGIN: PRIMARY first, remaining in background
2026-01-01 12:52:52.140 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:52:52.140 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:52:52.142 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:52:52.144 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.144 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.144 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: PRIMARY validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.144 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.144 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.145 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_3 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.145 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 0
2026-01-01 12:52:52.147 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Step 1: Generating PRIMARY token (synchronous)...
2026-01-01 12:52:52.150 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:52:52.150 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | [1/1] Authenticating: PRIMARY
2026-01-01 12:52:52.150 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:52:52.150 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:52:52.152 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:52:52.152 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.152 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.152 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: PRIMARY validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.153 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.153 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.153 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_3 validityAt=2026-01-01 03:30:00
2026-01-01 12:52:52.153 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 0
2026-01-01 12:52:52.153 [http-nio-28020-exec-4] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: PRIMARY | STARTED
2026-01-01 12:52:52.194 [http-nio-28020-exec-4] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: STARTING AUTH FLOW | API: PRIMARY
2026-01-01 12:52:52.204 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | Auth URL: https://api.upstox.com/v2/login/authorization/dialog?client_id=4871f658-a594-47b8-8176-d0d77578ef02&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:52:52.204 [http-nio-28020-exec-4] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 1/3] Selenium Login
2026-01-01 12:52:52.205 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:52:52.205 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Starting OAuth Login Automation
2026-01-01 12:52:52.206 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:52:52.206 [http-nio-28020-exec-4] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | Creating WebDriver: browser=chrome, headless=true
2026-01-01 12:52:57.937 [http-nio-28020-exec-4] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver created successfully
2026-01-01 12:52:57.937 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ Browser launched
2026-01-01 12:52:57.941 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 1: Navigating to authorization URL
2026-01-01 12:52:57.941 [http-nio-28020-exec-4] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Navigating to: https://api.upstox.com/v2/login/authorization/dialog?client_id=4871f658-a594-47b8-8176-d0d77578ef02&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:52:58.532 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 2: Starting login flow
2026-01-01 12:52:58.534 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2a: Entering mobile number and clicking Get OTP
2026-01-01 12:52:58.534 [http-nio-28020-exec-4] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering mobile number: 9599130381
2026-01-01 12:52:58.979 [http-nio-28020-exec-4] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Get OTP button
2026-01-01 12:53:00.322 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2b: Generating and entering TOTP
2026-01-01 12:53:00.331 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   Generated TOTP: 023742
2026-01-01 12:53:00.331 [http-nio-28020-exec-4] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering TOTP code
2026-01-01 12:53:00.430 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2c: Clicking Continue after TOTP
2026-01-01 12:53:00.430 [http-nio-28020-exec-4] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after TOTP
2026-01-01 12:53:01.636 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2d: Entering PIN and clicking Continue
2026-01-01 12:53:01.637 [http-nio-28020-exec-4] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering PIN
2026-01-01 12:53:01.757 [http-nio-28020-exec-4] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after PIN
2026-01-01 12:53:02.374 [http-nio-28020-exec-3] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╔═══════════════════════════════════════════════════════╗
2026-01-01 12:53:02.374 [http-nio-28020-exec-3] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ║  OAUTH CALLBACK RECEIVED  ║
2026-01-01 12:53:02.374 [http-nio-28020-exec-3] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╚═══════════════════════════════════════════════════════╝
2026-01-01 12:53:02.375 [http-nio-28020-exec-3] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ✓ Authorization code received (length: 6)
2026-01-01 12:53:02.968 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 3: Handling OAuth consent
2026-01-01 12:53:23.587 [http-nio-28020-exec-4] WARN  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page did not appear or already redirected
2026-01-01 12:53:23.587 [http-nio-28020-exec-4] INFO  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page not required or already passed
2026-01-01 12:53:23.591 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 4: Capturing authorization code
2026-01-01 12:53:23.591 [http-nio-28020-exec-4] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:23.591 [http-nio-28020-exec-4] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Capturing Authorization Code
2026-01-01 12:53:23.592 [http-nio-28020-exec-4] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:23.593 [http-nio-28020-exec-4] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Waiting for callback to: http://localhost:28020/api/v1/auth/upstox/callback
2026-01-01 12:53:23.597 [http-nio-28020-exec-4] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | ✓ Callback received
2026-01-01 12:53:23.602 [http-nio-28020-exec-4] DEBUG c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Current URL: http://localhost:28020/api/v1/auth/upstox/callback?code=5kL1t2
2026-01-01 12:53:23.603 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Callback URL: http://localhost:28020/api/v1/auth/upstox/callback?code=5kL1t2
2026-01-01 12:53:23.610 [http-nio-28020-exec-4] INFO  c.v.u.auth.selenium.utils.UrlParser | sid= uid= tid= | ✓ Extracted authorization code (length=6)
2026-01-01 12:53:23.610 [http-nio-28020-exec-4] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ✓ Authorization code captured successfully
2026-01-01 12:53:23.610 [http-nio-28020-exec-4] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Code length: 6 characters
2026-01-01 12:53:23.610 [http-nio-28020-exec-4] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:23.610 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:23.610 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ OAuth Login Automation Completed Successfully
2026-01-01 12:53:23.610 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:23.830 [http-nio-28020-exec-4] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver quit successfully
2026-01-01 12:53:23.830 [http-nio-28020-exec-4] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Selenium Login Completed | Duration: 31626ms
2026-01-01 12:53:23.830 [http-nio-28020-exec-4] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 2/3] Token Exchange
2026-01-01 12:53:23.830 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:23.830 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Exchanging Authorization Code for Access Token
2026-01-01 12:53:23.830 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:23.831 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token endpoint: https://api.upstox.com/v2/login/authorization/token
2026-01-01 12:53:23.831 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Sending token exchange request...
2026-01-01 12:53:24.093 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Response status: 200
2026-01-01 12:53:24.097 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ✓ Token exchange successful
2026-01-01 12:53:24.100 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Access token length: 311
2026-01-01 12:53:24.104 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token type: null
2026-01-01 12:53:24.112 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Expires in: null seconds
2026-01-01 12:53:24.114 [http-nio-28020-exec-4] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:24.117 [http-nio-28020-exec-4] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Token Exchange Completed | Duration: 287ms
2026-01-01 12:53:24.122 [http-nio-28020-exec-4] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 3/3] Token Storage
2026-01-01 12:53:24.134 [http-nio-28020-exec-4] DEBUG c.v.u.a.repository.TokenRepository | sid= uid= tid= | Deleted 1 existing token(s) for apiName: PRIMARY
2026-01-01 12:53:24.144 [http-nio-28020-exec-4] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Inserted token for apiName: PRIMARY
2026-01-01 12:53:24.147 [http-nio-28020-exec-4] INFO  c.v.u.a.service.TokenStorageService | sid= uid= tid= | ✓ Stored token in DB for apiName: PRIMARY, isPrimary: true
2026-01-01 12:53:24.148 [http-nio-28020-exec-4] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: AUTH FLOW SUCCESS | API: PRIMARY | Total Duration: 31954ms
2026-01-01 12:53:24.150 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ✓ Token generated for PRIMARY in 31956ms (1/1)
2026-01-01 12:53:24.151 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:53:24.156 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:53:24.156 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.156 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.156 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.156 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.156 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_3 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.156 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 1
2026-01-01 12:53:24.156 [http-nio-28020-exec-4] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: PRIMARY | SUCCESS
2026-01-01 12:53:24.161 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:24.162 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | BATCH AUTHENTICATION COMPLETE: 1/1 tokens generated
2026-01-01 12:53:24.162 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:24.163 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ✓ PRIMARY token generation complete
2026-01-01 12:53:24.163 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Step 2: Launching background generation for 5 remaining APIs
2026-01-01 12:53:24.166 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══ BACKGROUND GENERATION STARTED ═══
2026-01-01 12:53:24.166 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:24.167 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:53:24.168 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | [1/5] Authenticating: WEBSOCKET_1
2026-01-01 12:53:24.168 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ASYNC BATCH LOGIN: PRIMARY complete, background launched
2026-01-01 12:53:24.168 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:24.168 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:53:24.168 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:53:24.168 [http-nio-28020-exec-4] INFO  c.v.u.a.c.LoginAutomationController | sid= uid= tid= | AUDIT: Async batch login PRIMARY complete | Duration: 32029ms
2026-01-01 12:53:24.170 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:53:24.180 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.201 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.207 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.218 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.221 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_3 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:24.224 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 1
2026-01-01 12:53:24.233 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: WEBSOCKET_1 | STARTED
2026-01-01 12:53:24.237 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: STARTING AUTH FLOW | API: WEBSOCKET_1
2026-01-01 12:53:24.254 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | Auth URL: https://api.upstox.com/v2/login/authorization/dialog?client_id=9aff3af3-325f-41a2-85d9-30ea2fdf2106&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:53:24.265 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 1/3] Selenium Login
2026-01-01 12:53:24.266 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:24.268 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Starting OAuth Login Automation
2026-01-01 12:53:24.268 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:24.269 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | Creating WebDriver: browser=chrome, headless=true
2026-01-01 12:53:25.223 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver created successfully
2026-01-01 12:53:25.224 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ Browser launched
2026-01-01 12:53:25.224 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 1: Navigating to authorization URL
2026-01-01 12:53:25.224 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Navigating to: https://api.upstox.com/v2/login/authorization/dialog?client_id=9aff3af3-325f-41a2-85d9-30ea2fdf2106&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:53:25.980 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 2: Starting login flow
2026-01-01 12:53:25.980 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2a: Entering mobile number and clicking Get OTP
2026-01-01 12:53:25.980 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering mobile number: 9599130381
2026-01-01 12:53:26.274 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Get OTP button
2026-01-01 12:53:27.613 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2b: Generating and entering TOTP
2026-01-01 12:53:27.613 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   Generated TOTP: 023742
2026-01-01 12:53:27.613 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering TOTP code
2026-01-01 12:53:27.810 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2c: Clicking Continue after TOTP
2026-01-01 12:53:27.810 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after TOTP
2026-01-01 12:53:28.973 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2d: Entering PIN and clicking Continue
2026-01-01 12:53:28.973 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering PIN
2026-01-01 12:53:29.091 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after PIN
2026-01-01 12:53:29.607 [http-nio-28020-exec-8] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╔═══════════════════════════════════════════════════════╗
2026-01-01 12:53:29.608 [http-nio-28020-exec-8] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ║  OAUTH CALLBACK RECEIVED  ║
2026-01-01 12:53:29.608 [http-nio-28020-exec-8] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╚═══════════════════════════════════════════════════════╝
2026-01-01 12:53:29.608 [http-nio-28020-exec-8] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ✓ Authorization code received (length: 6)
2026-01-01 12:53:30.276 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 3: Handling OAuth consent
2026-01-01 12:53:50.827 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page did not appear or already redirected
2026-01-01 12:53:50.827 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page not required or already passed
2026-01-01 12:53:50.827 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 4: Capturing authorization code
2026-01-01 12:53:50.827 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:50.827 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Capturing Authorization Code
2026-01-01 12:53:50.827 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:50.827 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Waiting for callback to: http://localhost:28020/api/v1/auth/upstox/callback
2026-01-01 12:53:50.831 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | ✓ Callback received
2026-01-01 12:53:50.840 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Current URL: http://localhost:28020/api/v1/auth/upstox/callback?code=CYYkNw
2026-01-01 12:53:50.840 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Callback URL: http://localhost:28020/api/v1/auth/upstox/callback?code=CYYkNw
2026-01-01 12:53:50.844 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.utils.UrlParser | sid= uid= tid= | ✓ Extracted authorization code (length=6)
2026-01-01 12:53:50.844 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ✓ Authorization code captured successfully
2026-01-01 12:53:50.845 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Code length: 6 characters
2026-01-01 12:53:50.845 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:50.845 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:50.845 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ OAuth Login Automation Completed Successfully
2026-01-01 12:53:50.846 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:51.056 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver quit successfully
2026-01-01 12:53:51.057 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Selenium Login Completed | Duration: 26791ms
2026-01-01 12:53:51.057 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 2/3] Token Exchange
2026-01-01 12:53:51.057 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:51.057 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Exchanging Authorization Code for Access Token
2026-01-01 12:53:51.057 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:51.057 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token endpoint: https://api.upstox.com/v2/login/authorization/token
2026-01-01 12:53:51.057 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Sending token exchange request...
2026-01-01 12:53:51.330 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Response status: 200
2026-01-01 12:53:51.330 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ✓ Token exchange successful
2026-01-01 12:53:51.330 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Access token length: 311
2026-01-01 12:53:51.330 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token type: null
2026-01-01 12:53:51.330 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Expires in: null seconds
2026-01-01 12:53:51.331 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:51.331 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Token Exchange Completed | Duration: 274ms
2026-01-01 12:53:51.331 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 3/3] Token Storage
2026-01-01 12:53:51.340 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.repository.TokenRepository | sid= uid= tid= | Deleted 1 existing token(s) for apiName: WEBSOCKET_1
2026-01-01 12:53:51.345 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Inserted token for apiName: WEBSOCKET_1
2026-01-01 12:53:51.348 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.service.TokenStorageService | sid= uid= tid= | ✓ Stored token in DB for apiName: WEBSOCKET_1, isPrimary: false
2026-01-01 12:53:51.350 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: AUTH FLOW SUCCESS | API: WEBSOCKET_1 | Total Duration: 27113ms
2026-01-01 12:53:51.350 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ✓ Token generated for WEBSOCKET_1 in 27113ms (1/5)
2026-01-01 12:53:51.351 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:53:51.358 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:53:51.362 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:51.366 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:51.368 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:51.369 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_3 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:51.375 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 2
2026-01-01 12:53:51.376 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: WEBSOCKET_1 | SUCCESS
2026-01-01 12:53:51.376 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:53:51.377 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | [2/5] Authenticating: WEBSOCKET_2
2026-01-01 12:53:51.380 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:53:51.382 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:53:51.396 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:53:51.397 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:51.398 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:51.398 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:51.398 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_3 validityAt=2026-01-01 03:30:00
2026-01-01 12:53:51.398 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 2
2026-01-01 12:53:51.398 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: WEBSOCKET_2 | STARTED
2026-01-01 12:53:51.417 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: STARTING AUTH FLOW | API: WEBSOCKET_2
2026-01-01 12:53:51.418 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | Auth URL: https://api.upstox.com/v2/login/authorization/dialog?client_id=17bb10d9-3f61-4cd8-8aa4-0b0ee82448f8&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:53:51.418 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 1/3] Selenium Login
2026-01-01 12:53:51.418 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:51.418 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Starting OAuth Login Automation
2026-01-01 12:53:51.418 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:53:51.418 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | Creating WebDriver: browser=chrome, headless=true
2026-01-01 12:53:52.282 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver created successfully
2026-01-01 12:53:52.282 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ Browser launched
2026-01-01 12:53:52.283 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 1: Navigating to authorization URL
2026-01-01 12:53:52.284 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Navigating to: https://api.upstox.com/v2/login/authorization/dialog?client_id=17bb10d9-3f61-4cd8-8aa4-0b0ee82448f8&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:53:53.146 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 2: Starting login flow
2026-01-01 12:53:53.146 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2a: Entering mobile number and clicking Get OTP
2026-01-01 12:53:53.146 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering mobile number: 9599130381
2026-01-01 12:53:53.362 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Get OTP button
2026-01-01 12:53:54.868 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2b: Generating and entering TOTP
2026-01-01 12:53:54.868 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   Generated TOTP: 227867
2026-01-01 12:53:54.869 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering TOTP code
2026-01-01 12:53:54.961 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2c: Clicking Continue after TOTP
2026-01-01 12:53:54.961 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after TOTP
2026-01-01 12:53:56.107 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2d: Entering PIN and clicking Continue
2026-01-01 12:53:56.113 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering PIN
2026-01-01 12:53:56.305 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after PIN
2026-01-01 12:53:56.835 [http-nio-28020-exec-9] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╔═══════════════════════════════════════════════════════╗
2026-01-01 12:53:56.835 [http-nio-28020-exec-9] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ║  OAUTH CALLBACK RECEIVED  ║
2026-01-01 12:53:56.837 [http-nio-28020-exec-9] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╚═══════════════════════════════════════════════════════╝
2026-01-01 12:53:56.842 [http-nio-28020-exec-9] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ✓ Authorization code received (length: 6)
2026-01-01 12:53:57.537 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 3: Handling OAuth consent
2026-01-01 12:54:18.118 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page did not appear or already redirected
2026-01-01 12:54:18.118 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page not required or already passed
2026-01-01 12:54:18.118 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 4: Capturing authorization code
2026-01-01 12:54:18.119 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:18.119 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Capturing Authorization Code
2026-01-01 12:54:18.119 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:18.119 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Waiting for callback to: http://localhost:28020/api/v1/auth/upstox/callback
2026-01-01 12:54:18.124 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | ✓ Callback received
2026-01-01 12:54:18.129 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Current URL: http://localhost:28020/api/v1/auth/upstox/callback?code=lELmdd
2026-01-01 12:54:18.129 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Callback URL: http://localhost:28020/api/v1/auth/upstox/callback?code=lELmdd
2026-01-01 12:54:18.138 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.utils.UrlParser | sid= uid= tid= | ✓ Extracted authorization code (length=6)
2026-01-01 12:54:18.138 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ✓ Authorization code captured successfully
2026-01-01 12:54:18.138 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Code length: 6 characters
2026-01-01 12:54:18.139 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:18.139 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:18.139 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ OAuth Login Automation Completed Successfully
2026-01-01 12:54:18.139 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:18.324 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver quit successfully
2026-01-01 12:54:18.324 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Selenium Login Completed | Duration: 26906ms
2026-01-01 12:54:18.324 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 2/3] Token Exchange
2026-01-01 12:54:18.325 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:18.325 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Exchanging Authorization Code for Access Token
2026-01-01 12:54:18.325 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:18.325 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token endpoint: https://api.upstox.com/v2/login/authorization/token
2026-01-01 12:54:18.325 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Sending token exchange request...
2026-01-01 12:54:19.053 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Response status: 200
2026-01-01 12:54:19.055 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ✓ Token exchange successful
2026-01-01 12:54:19.055 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Access token length: 311
2026-01-01 12:54:19.055 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token type: null
2026-01-01 12:54:19.055 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Expires in: null seconds
2026-01-01 12:54:19.055 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:19.056 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Token Exchange Completed | Duration: 731ms
2026-01-01 12:54:19.056 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 3/3] Token Storage
2026-01-01 12:54:19.064 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.repository.TokenRepository | sid= uid= tid= | Deleted 1 existing token(s) for apiName: WEBSOCKET_2
2026-01-01 12:54:19.069 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Inserted token for apiName: WEBSOCKET_2
2026-01-01 12:54:19.070 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.service.TokenStorageService | sid= uid= tid= | ✓ Stored token in DB for apiName: WEBSOCKET_2, isPrimary: false
2026-01-01 12:54:19.070 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: AUTH FLOW SUCCESS | API: WEBSOCKET_2 | Total Duration: 27653ms
2026-01-01 12:54:19.070 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ✓ Token generated for WEBSOCKET_2 in 27653ms (2/5)
2026-01-01 12:54:19.070 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:54:19.072 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:54:19.073 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:19.074 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:19.074 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_3 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:19.074 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 3
2026-01-01 12:54:19.074 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: WEBSOCKET_2 | SUCCESS
2026-01-01 12:54:19.074 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:54:19.074 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | [3/5] Authenticating: WEBSOCKET_3
2026-01-01 12:54:19.074 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:54:19.074 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:54:19.079 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:54:19.079 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:19.079 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:19.079 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: WEBSOCKET_3 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:19.079 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 3
2026-01-01 12:54:19.079 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: WEBSOCKET_3 | STARTED
2026-01-01 12:54:19.088 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: STARTING AUTH FLOW | API: WEBSOCKET_3
2026-01-01 12:54:19.093 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | Auth URL: https://api.upstox.com/v2/login/authorization/dialog?client_id=747e91fb-6532-49c4-af80-2c8388be77e5&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:54:19.096 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 1/3] Selenium Login
2026-01-01 12:54:19.096 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:19.097 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Starting OAuth Login Automation
2026-01-01 12:54:19.098 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:19.099 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | Creating WebDriver: browser=chrome, headless=true
2026-01-01 12:54:20.092 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver created successfully
2026-01-01 12:54:20.094 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ Browser launched
2026-01-01 12:54:20.094 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 1: Navigating to authorization URL
2026-01-01 12:54:20.095 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Navigating to: https://api.upstox.com/v2/login/authorization/dialog?client_id=747e91fb-6532-49c4-af80-2c8388be77e5&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:54:20.697 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 2: Starting login flow
2026-01-01 12:54:20.704 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2a: Entering mobile number and clicking Get OTP
2026-01-01 12:54:20.706 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering mobile number: 9599130381
2026-01-01 12:54:20.987 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Get OTP button
2026-01-01 12:54:22.299 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2b: Generating and entering TOTP
2026-01-01 12:54:22.301 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   Generated TOTP: 216675
2026-01-01 12:54:22.302 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering TOTP code
2026-01-01 12:54:22.489 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2c: Clicking Continue after TOTP
2026-01-01 12:54:22.489 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after TOTP
2026-01-01 12:54:23.614 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2d: Entering PIN and clicking Continue
2026-01-01 12:54:23.616 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering PIN
2026-01-01 12:54:23.823 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after PIN
2026-01-01 12:54:24.391 [http-nio-28020-exec-5] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╔═══════════════════════════════════════════════════════╗
2026-01-01 12:54:24.391 [http-nio-28020-exec-5] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ║  OAUTH CALLBACK RECEIVED  ║
2026-01-01 12:54:24.391 [http-nio-28020-exec-5] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╚═══════════════════════════════════════════════════════╝
2026-01-01 12:54:24.391 [http-nio-28020-exec-5] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ✓ Authorization code received (length: 6)
2026-01-01 12:54:25.054 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 3: Handling OAuth consent
2026-01-01 12:54:45.639 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page did not appear or already redirected
2026-01-01 12:54:45.639 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page not required or already passed
2026-01-01 12:54:45.639 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 4: Capturing authorization code
2026-01-01 12:54:45.639 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:45.639 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Capturing Authorization Code
2026-01-01 12:54:45.639 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:45.639 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Waiting for callback to: http://localhost:28020/api/v1/auth/upstox/callback
2026-01-01 12:54:45.645 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | ✓ Callback received
2026-01-01 12:54:45.651 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Current URL: http://localhost:28020/api/v1/auth/upstox/callback?code=7GiUwu
2026-01-01 12:54:45.651 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Callback URL: http://localhost:28020/api/v1/auth/upstox/callback?code=7GiUwu
2026-01-01 12:54:45.653 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.utils.UrlParser | sid= uid= tid= | ✓ Extracted authorization code (length=6)
2026-01-01 12:54:45.655 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ✓ Authorization code captured successfully
2026-01-01 12:54:45.655 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Code length: 6 characters
2026-01-01 12:54:45.655 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:45.655 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:45.655 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ OAuth Login Automation Completed Successfully
2026-01-01 12:54:45.655 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:46.070 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver quit successfully
2026-01-01 12:54:46.070 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Selenium Login Completed | Duration: 26974ms
2026-01-01 12:54:46.070 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 2/3] Token Exchange
2026-01-01 12:54:46.070 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:46.071 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Exchanging Authorization Code for Access Token
2026-01-01 12:54:46.071 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:46.071 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token endpoint: https://api.upstox.com/v2/login/authorization/token
2026-01-01 12:54:46.071 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Sending token exchange request...
2026-01-01 12:54:46.201 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Response status: 200
2026-01-01 12:54:46.202 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ✓ Token exchange successful
2026-01-01 12:54:46.202 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Access token length: 311
2026-01-01 12:54:46.202 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token type: null
2026-01-01 12:54:46.202 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Expires in: null seconds
2026-01-01 12:54:46.202 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:46.202 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Token Exchange Completed | Duration: 132ms
2026-01-01 12:54:46.202 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 3/3] Token Storage
2026-01-01 12:54:46.224 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.repository.TokenRepository | sid= uid= tid= | Deleted 1 existing token(s) for apiName: WEBSOCKET_3
2026-01-01 12:54:46.232 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Inserted token for apiName: WEBSOCKET_3
2026-01-01 12:54:46.233 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.service.TokenStorageService | sid= uid= tid= | ✓ Stored token in DB for apiName: WEBSOCKET_3, isPrimary: false
2026-01-01 12:54:46.234 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: AUTH FLOW SUCCESS | API: WEBSOCKET_3 | Total Duration: 27147ms
2026-01-01 12:54:46.234 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ✓ Token generated for WEBSOCKET_3 in 27147ms (3/5)
2026-01-01 12:54:46.235 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:54:46.238 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:54:46.239 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:46.242 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:46.250 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 4
2026-01-01 12:54:46.250 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: WEBSOCKET_3 | SUCCESS
2026-01-01 12:54:46.250 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:54:46.250 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | [4/5] Authenticating: OPTION_CHAIN_1
2026-01-01 12:54:46.252 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:54:46.254 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:54:46.277 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:54:46.279 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_1 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:46.286 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:54:46.287 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 4
2026-01-01 12:54:46.288 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: OPTION_CHAIN_1 | STARTED
2026-01-01 12:54:46.308 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: STARTING AUTH FLOW | API: OPTION_CHAIN_1
2026-01-01 12:54:46.316 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | Auth URL: https://api.upstox.com/v2/login/authorization/dialog?client_id=04362a8f-f775-4a9e-a18b-67308f0794fb&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:54:46.316 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 1/3] Selenium Login
2026-01-01 12:54:46.318 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:46.319 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Starting OAuth Login Automation
2026-01-01 12:54:46.320 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:54:46.320 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | Creating WebDriver: browser=chrome, headless=true
2026-01-01 12:54:47.273 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver created successfully
2026-01-01 12:54:47.273 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ Browser launched
2026-01-01 12:54:47.273 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 1: Navigating to authorization URL
2026-01-01 12:54:47.274 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Navigating to: https://api.upstox.com/v2/login/authorization/dialog?client_id=04362a8f-f775-4a9e-a18b-67308f0794fb&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:54:47.974 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 2: Starting login flow
2026-01-01 12:54:47.974 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2a: Entering mobile number and clicking Get OTP
2026-01-01 12:54:47.974 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering mobile number: 9599130381
2026-01-01 12:54:48.232 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Get OTP button
2026-01-01 12:54:49.587 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2b: Generating and entering TOTP
2026-01-01 12:54:49.587 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   Generated TOTP: 265938
2026-01-01 12:54:49.587 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering TOTP code
2026-01-01 12:54:49.765 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2c: Clicking Continue after TOTP
2026-01-01 12:54:49.767 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after TOTP
2026-01-01 12:54:51.022 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2d: Entering PIN and clicking Continue
2026-01-01 12:54:51.023 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering PIN
2026-01-01 12:54:51.128 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after PIN
2026-01-01 12:54:51.606 [http-nio-28020-exec-6] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╔═══════════════════════════════════════════════════════╗
2026-01-01 12:54:51.611 [http-nio-28020-exec-6] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ║  OAUTH CALLBACK RECEIVED  ║
2026-01-01 12:54:51.619 [http-nio-28020-exec-6] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╚═══════════════════════════════════════════════════════╝
2026-01-01 12:54:51.625 [http-nio-28020-exec-6] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ✓ Authorization code received (length: 6)
2026-01-01 12:54:52.266 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 3: Handling OAuth consent
2026-01-01 12:55:12.914 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page did not appear or already redirected
2026-01-01 12:55:12.914 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page not required or already passed
2026-01-01 12:55:12.914 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 4: Capturing authorization code
2026-01-01 12:55:12.914 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:12.914 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Capturing Authorization Code
2026-01-01 12:55:12.914 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:12.914 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Waiting for callback to: http://localhost:28020/api/v1/auth/upstox/callback
2026-01-01 12:55:12.918 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | ✓ Callback received
2026-01-01 12:55:12.924 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Current URL: http://localhost:28020/api/v1/auth/upstox/callback?code=VSN_tm
2026-01-01 12:55:12.925 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Callback URL: http://localhost:28020/api/v1/auth/upstox/callback?code=VSN_tm
2026-01-01 12:55:12.929 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.utils.UrlParser | sid= uid= tid= | ✓ Extracted authorization code (length=6)
2026-01-01 12:55:12.929 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ✓ Authorization code captured successfully
2026-01-01 12:55:12.930 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Code length: 6 characters
2026-01-01 12:55:12.930 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:12.930 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:12.930 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ OAuth Login Automation Completed Successfully
2026-01-01 12:55:12.930 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:13.150 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver quit successfully
2026-01-01 12:55:13.152 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Selenium Login Completed | Duration: 26836ms
2026-01-01 12:55:13.153 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 2/3] Token Exchange
2026-01-01 12:55:13.153 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:13.155 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Exchanging Authorization Code for Access Token
2026-01-01 12:55:13.156 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:13.156 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token endpoint: https://api.upstox.com/v2/login/authorization/token
2026-01-01 12:55:13.161 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Sending token exchange request...
2026-01-01 12:55:13.688 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_1 is expiring soon. Triggering refresh...
2026-01-01 12:55:13.704 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 12:55:13.832 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Response status: 200
2026-01-01 12:55:13.845 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ✓ Token exchange successful
2026-01-01 12:55:13.846 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Access token length: 311
2026-01-01 12:55:13.847 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token type: null
2026-01-01 12:55:13.850 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Expires in: null seconds
2026-01-01 12:55:13.853 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:13.853 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Token Exchange Completed | Duration: 700ms
2026-01-01 12:55:13.854 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 3/3] Token Storage
2026-01-01 12:55:13.869 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.repository.TokenRepository | sid= uid= tid= | Deleted 1 existing token(s) for apiName: OPTION_CHAIN_1
2026-01-01 12:55:13.874 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Inserted token for apiName: OPTION_CHAIN_1
2026-01-01 12:55:13.874 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.service.TokenStorageService | sid= uid= tid= | ✓ Stored token in DB for apiName: OPTION_CHAIN_1, isPrimary: false
2026-01-01 12:55:13.875 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: AUTH FLOW SUCCESS | API: OPTION_CHAIN_1 | Total Duration: 27567ms
2026-01-01 12:55:13.876 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ✓ Token generated for OPTION_CHAIN_1 in 27568ms (4/5)
2026-01-01 12:55:13.876 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:55:13.883 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:55:13.884 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:55:13.884 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 5
2026-01-01 12:55:13.885 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: OPTION_CHAIN_1 | SUCCESS
2026-01-01 12:55:13.886 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:55:13.886 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | [5/5] Authenticating: OPTION_CHAIN_2
2026-01-01 12:55:13.890 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 12:55:13.892 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:55:13.905 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:55:13.908 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:55:13.918 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 5
2026-01-01 12:55:13.922 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: OPTION_CHAIN_2 | STARTED
2026-01-01 12:55:13.930 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: STARTING AUTH FLOW | API: OPTION_CHAIN_2
2026-01-01 12:55:13.932 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | Auth URL: https://api.upstox.com/v2/login/authorization/dialog?client_id=096449e9-13fb-4089-982c-82748d231d1a&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:55:13.936 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 1/3] Selenium Login
2026-01-01 12:55:13.937 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:13.937 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Starting OAuth Login Automation
2026-01-01 12:55:13.938 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:13.939 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | Creating WebDriver: browser=chrome, headless=true
2026-01-01 12:55:14.800 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver created successfully
2026-01-01 12:55:14.805 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ Browser launched
2026-01-01 12:55:14.805 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 1: Navigating to authorization URL
2026-01-01 12:55:14.805 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Navigating to: https://api.upstox.com/v2/login/authorization/dialog?client_id=096449e9-13fb-4089-982c-82748d231d1a&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 12:55:15.679 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 2: Starting login flow
2026-01-01 12:55:15.680 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2a: Entering mobile number and clicking Get OTP
2026-01-01 12:55:15.680 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering mobile number: 9599130381
2026-01-01 12:55:15.912 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Get OTP button
2026-01-01 12:55:36.701 [ForkJoinPool.commonPool-worker-1] ERROR c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✗ OAuth login automation failed
org.openqa.selenium.TimeoutException: Expected condition failed: waiting for presence of element located by: By.id: otpNum (tried for 15 second(s) with 500 milliseconds interval)
	at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)
	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
	at com.vegatrader.upstox.auth.selenium.pages.LoginPage.clickGetOtpButton(LoginPage.java:78)
	at com.vegatrader.upstox.auth.selenium.workflow.OAuthLoginAutomation.performLogin(OAuthLoginAutomation.java:65)
	at com.vegatrader.upstox.auth.selenium.integration.AuthenticationOrchestrator.authenticate(AuthenticationOrchestrator.java:61)
	at com.vegatrader.upstox.auth.service.BatchAuthenticationService.processAuthLoop(BatchAuthenticationService.java:272)
	at com.vegatrader.upstox.auth.service.BatchAuthenticationService.lambda$startBatchLoginAsync$0(BatchAuthenticationService.java:186)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1825)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1817)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:511)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1450)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:2019)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:187)
Caused by: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {"method":"css selector","selector":"#otpNum"}
  (Session info: chrome=143.0.7499.170)
For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Build info: version: '4.25.0', revision: '8a8aea2337'
System info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '25.0.1'
Driver info: org.openqa.selenium.chrome.ChromeDriver
Command: [eeb5dfe6bf510e765b5f487f1335fdea, findElement {value=otpNum, using=id}]
Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 143.0.7499.170, chrome: {chromedriverVersion: 143.0.7499.169 (164b20aab62..., userDataDir: C:\Users\VIJAYK~1\AppData\L...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:62651}, goog:processID: 9092, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:62651/devtoo..., se:cdpVersion: 143.0.7499.170, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
Session ID: eeb5dfe6bf510e765b5f487f1335fdea
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at org.openqa.selenium.remote.ErrorCodec.decode(ErrorCodec.java:167)
	at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:138)
	at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:50)
	at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:190)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:216)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:174)
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:545)
	at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)
	at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)
	at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:368)
	at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:362)
	at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:171)
	at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:168)
	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:203)
	... 11 common frames omitted
2026-01-01 12:55:36.863 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.utils.ScreenshotCapture | sid= uid= tid= | ✓ Screenshot saved: D:\projects\VEGA TRADER\backend\java\vega-trader\logs\selenium\screenshots\login_error_20260101_125536.png
2026-01-01 12:55:36.871 [ForkJoinPool.commonPool-worker-1] ERROR c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Screenshot saved: D:\projects\VEGA TRADER\backend\java\vega-trader\logs\selenium\screenshots\login_error_20260101_125536.png
2026-01-01 12:55:37.269 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver quit successfully
2026-01-01 12:55:37.269 [ForkJoinPool.commonPool-worker-1] ERROR c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: AUTH FLOW FAILED | API: OPTION_CHAIN_2 | Duration: 23339ms | Error: OAuth login automation failed: Expected condition failed: waiting for presence of element located by: By.id: otpNum (tried for 15 second(s) with 500 milliseconds interval)
2026-01-01 12:55:37.269 [ForkJoinPool.commonPool-worker-1] ERROR c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ✗ Authentication failed for OPTION_CHAIN_2: Authentication failed for OPTION_CHAIN_2
2026-01-01 12:55:37.269 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 12:55:37.271 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 12:55:37.271 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 12:55:37.271 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 5
2026-01-01 12:55:37.271 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: OPTION_CHAIN_2 | FAILED
2026-01-01 12:55:37.271 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:37.271 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | BATCH AUTHENTICATION COMPLETE: 4/5 tokens generated
2026-01-01 12:55:37.272 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Errors encountered: [OPTION_CHAIN_2: Authentication failed for OPTION_CHAIN_2]
2026-01-01 12:55:37.272 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 12:55:37.274 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══ BACKGROUND GENERATION COMPLETE ═══
2026-01-01 12:55:37.281 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Background generation errors: [OPTION_CHAIN_2: Authentication failed for OPTION_CHAIN_2]
2026-01-01 13:00:13.706 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 13:01:50.928 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 13:01:53.367 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:01:53.371 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:53.374 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 13:01:53.374 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:53.375 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 13:01:53.377 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 13:01:53.380 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 13:01:53.382 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 13:01:53.382 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 13:01:53.383 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 13:01:53.383 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:53.383 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 13:01:53.383 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:53.414 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 13:01:53.417 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:01:53.437 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:01:53.440 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:01:53.448 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:01:53.453 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:01:53.500 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 13:01:53.500 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:53.500 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 13:01:53.501 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:53.503 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 13:01:53.503 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 13:01:53.504 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 13:01:53.504 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 13:01:53.504 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 13:01:53.504 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 13:01:53.504 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:53.504 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 13:01:53.505 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:55.295 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 13:01:55.300 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 5 / 6
2026-01-01 13:01:55.316 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: [OPTION_CHAIN_2]
2026-01-01 13:01:55.364 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 13:01:55.364 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:55.367 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 13:01:55
2026-01-01 13:01:55.367 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:55.378 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 5 valid tokens in database
2026-01-01 13:01:55.381 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 14h 28m
2026-01-01 13:01:55.382 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 14h 28m
2026-01-01 13:01:55.382 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 14h 28m
2026-01-01 13:01:55.383 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 14h 28m
2026-01-01 13:01:55.383 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 14h 28m
2026-01-01 13:01:55.384 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:01:55.384 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=5 | Missing=1
2026-01-01 13:01:55.385 [restartedMain] WARN  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ⚠ 1 token(s) require generation
2026-01-01 13:01:55.385 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:26.098 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 13:05:29.114 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:05:29.115 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:29.116 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 13:05:29.116 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:29.117 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 13:05:29.118 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 13:05:29.118 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 13:05:29.118 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 13:05:29.118 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 13:05:29.118 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 13:05:29.119 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:29.121 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 13:05:29.123 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:29.161 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 13:05:29.162 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:05:29.174 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:05:29.179 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:05:29.184 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:05:29.192 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:05:29.272 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 13:05:29.272 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:29.273 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 13:05:29.273 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:29.277 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 13:05:29.277 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 13:05:29.277 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 13:05:29.278 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 13:05:29.278 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 13:05:29.278 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 13:05:29.278 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:29.279 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 13:05:29.279 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:32.055 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 13:05:32.175 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 13:05:32.177 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 5 / 6
2026-01-01 13:05:32.179 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: [OPTION_CHAIN_2]
2026-01-01 13:05:32.179 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:32.179 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 13:05:32
2026-01-01 13:05:32.179 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:32.185 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 5 valid tokens in database
2026-01-01 13:05:32.186 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 14h 24m
2026-01-01 13:05:32.187 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 14h 24m
2026-01-01 13:05:32.187 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 14h 24m
2026-01-01 13:05:32.188 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 14h 24m
2026-01-01 13:05:32.188 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 14h 24m
2026-01-01 13:05:32.188 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:05:32.188 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=5 | Missing=1
2026-01-01 13:05:32.188 [restartedMain] WARN  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ⚠ 1 token(s) require generation
2026-01-01 13:05:32.188 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:27.595 [http-nio-28020-exec-9] INFO  c.v.u.a.c.LoginAutomationController | sid= uid= tid= | [SSE] Client subscribed to auth progress
2026-01-01 13:10:27.597 [http-nio-28020-exec-4] INFO  c.v.u.a.c.LoginAutomationController | sid= uid= tid= | AUDIT: Async batch login initiated | Headless: true
2026-01-01 13:10:27.597 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:27.597 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ASYNC BATCH LOGIN: PRIMARY first, remaining in background
2026-01-01 13:10:27.597 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:27.598 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 13:10:27.603 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 13:10:27.604 [http-nio-28020-exec-4] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 13:10:27.605 [http-nio-28020-exec-4] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 5
2026-01-01 13:10:27.606 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ⚠ PRIMARY token already exists, skipping sync generation
2026-01-01 13:10:27.606 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Step 2: Launching background generation for 1 remaining APIs
2026-01-01 13:10:27.610 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:27.612 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ASYNC BATCH LOGIN: PRIMARY complete, background launched
2026-01-01 13:10:27.612 [http-nio-28020-exec-4] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:27.613 [http-nio-28020-exec-4] INFO  c.v.u.a.c.LoginAutomationController | sid= uid= tid= | AUDIT: Async batch login PRIMARY complete | Duration: 16ms
2026-01-01 13:10:27.614 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══ BACKGROUND GENERATION STARTED ═══
2026-01-01 13:10:27.617 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 13:10:27.621 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | [1/1] Authenticating: OPTION_CHAIN_2
2026-01-01 13:10:27.621 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ────────────────────────────────────────────────────
2026-01-01 13:10:27.622 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 13:10:27.624 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 13:10:27.624 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Token expired/invalid: OPTION_CHAIN_2 validityAt=2026-01-01 03:30:00
2026-01-01 13:10:27.625 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 5
2026-01-01 13:10:27.625 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: OPTION_CHAIN_2 | STARTED
2026-01-01 13:10:27.637 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: STARTING AUTH FLOW | API: OPTION_CHAIN_2
2026-01-01 13:10:27.638 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | Auth URL: https://api.upstox.com/v2/login/authorization/dialog?client_id=096449e9-13fb-4089-982c-82748d231d1a&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 13:10:27.639 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 1/3] Selenium Login
2026-01-01 13:10:27.641 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:27.641 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Starting OAuth Login Automation
2026-01-01 13:10:27.641 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:27.643 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | Creating WebDriver: browser=chrome, headless=true
2026-01-01 13:10:29.203 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver created successfully
2026-01-01 13:10:29.203 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ Browser launched
2026-01-01 13:10:29.211 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 1: Navigating to authorization URL
2026-01-01 13:10:29.212 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Navigating to: https://api.upstox.com/v2/login/authorization/dialog?client_id=096449e9-13fb-4089-982c-82748d231d1a&redirect_uri=http%3A%2F%2Flocalhost%3A28020%2Fapi%2Fv1%2Fauth%2Fupstox%2Fcallback&response_type=code
2026-01-01 13:10:29.972 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 2: Starting login flow
2026-01-01 13:10:29.972 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2a: Entering mobile number and clicking Get OTP
2026-01-01 13:10:29.972 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering mobile number: 9599130381
2026-01-01 13:10:30.173 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Get OTP button
2026-01-01 13:10:31.452 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2b: Generating and entering TOTP
2026-01-01 13:10:31.454 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   Generated TOTP: 299692
2026-01-01 13:10:31.454 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering TOTP code
2026-01-01 13:10:31.546 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2c: Clicking Continue after TOTP
2026-01-01 13:10:31.546 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after TOTP
2026-01-01 13:10:32.075 [scheduling-1] INFO  c.v.u.a.s.TokenRefreshScheduler | sid= uid= tid= | [TOKEN-REFRESH] Token OPTION_CHAIN_2 is expiring soon. Triggering refresh...
2026-01-01 13:10:32.709 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= |   2d: Entering PIN and clicking Continue
2026-01-01 13:10:32.711 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Entering PIN
2026-01-01 13:10:33.392 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.pages.LoginPage | sid= uid= tid= | Clicking Continue button after PIN
2026-01-01 13:10:34.461 [http-nio-28020-exec-2] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╔═══════════════════════════════════════════════════════╗
2026-01-01 13:10:34.482 [http-nio-28020-exec-2] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ║  OAUTH CALLBACK RECEIVED  ║
2026-01-01 13:10:34.503 [http-nio-28020-exec-2] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ╚═══════════════════════════════════════════════════════╝
2026-01-01 13:10:34.506 [http-nio-28020-exec-2] INFO  c.v.u.a.c.OAuthCallbackController | sid= uid= tid= | ✓ Authorization code received (length: 6)
2026-01-01 13:10:34.768 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 3: Handling OAuth consent
2026-01-01 13:10:55.376 [ForkJoinPool.commonPool-worker-1] WARN  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page did not appear or already redirected
2026-01-01 13:10:55.376 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.ConsentPage | sid= uid= tid= | Consent page not required or already passed
2026-01-01 13:10:55.376 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | Step 4: Capturing authorization code
2026-01-01 13:10:55.376 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:55.376 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Capturing Authorization Code
2026-01-01 13:10:55.377 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:55.377 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Waiting for callback to: http://localhost:28020/api/v1/auth/upstox/callback
2026-01-01 13:10:55.383 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | ✓ Callback received
2026-01-01 13:10:55.387 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.selenium.pages.CallbackPage | sid= uid= tid= | Current URL: http://localhost:28020/api/v1/auth/upstox/callback?code=4nr6F4
2026-01-01 13:10:55.387 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Callback URL: http://localhost:28020/api/v1/auth/upstox/callback?code=4nr6F4
2026-01-01 13:10:55.393 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.auth.selenium.utils.UrlParser | sid= uid= tid= | ✓ Extracted authorization code (length=6)
2026-01-01 13:10:55.394 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ✓ Authorization code captured successfully
2026-01-01 13:10:55.395 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | Code length: 6 characters
2026-01-01 13:10:55.395 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.workflow.AuthCodeCapture | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:55.395 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:55.395 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ✓ OAuth Login Automation Completed Successfully
2026-01-01 13:10:55.395 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.OAuthLoginAutomation | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:55.745 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.config.SeleniumConfig | sid= uid= tid= | ✓ WebDriver quit successfully
2026-01-01 13:10:55.745 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Selenium Login Completed | Duration: 28105ms
2026-01-01 13:10:55.745 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 2/3] Token Exchange
2026-01-01 13:10:55.745 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:55.745 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Exchanging Authorization Code for Access Token
2026-01-01 13:10:55.745 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:55.746 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token endpoint: https://api.upstox.com/v2/login/authorization/token
2026-01-01 13:10:55.747 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Sending token exchange request...
2026-01-01 13:10:56.170 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Response status: 200
2026-01-01 13:10:56.179 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ✓ Token exchange successful
2026-01-01 13:10:56.179 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Access token length: 311
2026-01-01 13:10:56.179 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Token type: null
2026-01-01 13:10:56.180 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | Expires in: null seconds
2026-01-01 13:10:56.180 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.w.TokenExchangeClient | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:56.180 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: Token Exchange Completed | Duration: 435ms
2026-01-01 13:10:56.180 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: [Step 3/3] Token Storage
2026-01-01 13:10:56.188 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.repository.TokenRepository | sid= uid= tid= | Deleted 1 existing token(s) for apiName: OPTION_CHAIN_2
2026-01-01 13:10:56.193 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Inserted token for apiName: OPTION_CHAIN_2
2026-01-01 13:10:56.193 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.service.TokenStorageService | sid= uid= tid= | ✓ Stored token in DB for apiName: OPTION_CHAIN_2, isPrimary: false
2026-01-01 13:10:56.194 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.i.AuthenticationOrchestrator | sid= uid= tid= | AUDIT: AUTH FLOW SUCCESS | API: OPTION_CHAIN_2 | Total Duration: 28558ms
2026-01-01 13:10:56.194 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-STATE] Registered: OPTION_CHAIN_2, FullyReady: true
2026-01-01 13:10:56.194 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ✓ Token generated for OPTION_CHAIN_2 in 28558ms (1/1)
2026-01-01 13:10:56.194 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Fetching valid tokens from repository...
2026-01-01 13:10:56.196 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Found 6 active tokens in DB
2026-01-01 13:10:56.196 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | Valid tokens count: 6
2026-01-01 13:10:56.197 [ForkJoinPool.commonPool-worker-1] DEBUG c.v.u.a.event.AuthProgressPublisher | sid= uid= tid= | [SSE-PROGRESS] Emitting: OPTION_CHAIN_2 | SUCCESS
2026-01-01 13:10:56.197 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:56.197 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | BATCH AUTHENTICATION COMPLETE: 1/1 tokens generated
2026-01-01 13:10:56.197 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:10:56.197 [ForkJoinPool.commonPool-worker-1] INFO  c.v.u.a.s.BatchAuthenticationService | sid= uid= tid= | ═══ BACKGROUND GENERATION COMPLETE ═══
2026-01-01 13:14:23.504 [http-nio-28020-exec-9] INFO  c.v.u.a.c.LoginAutomationController | sid= uid= tid= | [SSE] Client disconnected from auth progress
2026-01-01 13:14:26.961 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 13:18:09.062 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 13:18:10.306 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:18:10.307 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:10.307 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 13:18:10.307 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:10.310 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 13:18:10.311 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 13:18:10.311 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 13:18:10.312 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 13:18:10.312 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 13:18:10.312 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 13:18:10.312 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:10.312 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 13:18:10.312 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:10.330 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 13:18:10.331 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:18:10.338 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:18:10.341 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:18:10.346 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 13:18:10.347 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 13:18:10.380 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 13:18:10.380 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:10.380 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 13:18:10.380 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:10.383 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 13:18:10.383 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 13:18:10.383 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 13:18:10.383 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 13:18:10.383 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 13:18:10.383 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 13:18:10.383 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:10.383 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 13:18:10.384 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:12.188 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 13:18:12.193 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 13:18:12.193 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 13:18:12.193 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:12.194 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 13:18:12
2026-01-01 13:18:12.194 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:12.196 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 13:18:12.198 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 14h 11m
2026-01-01 13:18:12.198 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 14h 11m
2026-01-01 13:18:12.198 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 14h 11m
2026-01-01 13:18:12.199 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 14h 11m
2026-01-01 13:18:12.201 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 14h 11m
2026-01-01 13:18:12.201 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 14h 11m
2026-01-01 13:18:12.202 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:18:12.202 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 13:18:12.202 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 13:18:12.202 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:43:14.300 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 13:49:38.349 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ═══
2026-01-01 13:49:40.967 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 13:49:40.970 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 13:49:40.970 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 13:49:40.970 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:49:40.970 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 13:49:40
2026-01-01 13:49:40.970 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:49:40.973 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 13:49:40.974 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 40m
2026-01-01 13:49:40.974 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 40m
2026-01-01 13:49:40.974 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 40m
2026-01-01 13:49:40.974 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 40m
2026-01-01 13:49:40.974 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 40m
2026-01-01 13:49:40.974 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 40m
2026-01-01 13:49:40.974 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 13:49:40.975 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 13:49:40.975 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 13:49:40.976 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:52.783 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:14:54.027 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:14:54.029 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:54.030 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:14:54.030 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:54.031 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:14:54.032 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:14:54.032 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:14:54.032 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:14:54.032 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:14:54.032 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:14:54.032 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:54.032 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:14:54.033 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:54.045 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:14:54.047 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:14:54.055 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:14:54.059 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:14:54.062 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:14:54.065 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:14:54.100 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:14:54.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:54.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:14:54.101 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:54.103 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:14:54.104 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:14:54.104 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:14:54.104 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:14:54.104 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:14:54.105 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:14:54.106 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:54.106 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:14:54.106 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:55.957 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:14:55.961 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:14:55.962 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:14:55.962 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:55.975 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:14:55
2026-01-01 14:14:55.976 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:55.977 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:14:55.979 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 15m
2026-01-01 14:14:55.986 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 15m
2026-01-01 14:14:55.987 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 15m
2026-01-01 14:14:55.987 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 15m
2026-01-01 14:14:55.988 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 15m
2026-01-01 14:14:55.989 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 15m
2026-01-01 14:14:55.989 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:14:55.989 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:14:55.989 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:14:55.989 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:03.918 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:15:06.141 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:06.141 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:06.142 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:15:06.143 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:06.143 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:15:06.147 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:15:06.155 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:15:06.156 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:15:06.157 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:15:06.158 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:15:06.158 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:06.159 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:15:06.159 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:06.195 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:15:06.204 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:06.226 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:06.235 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:06.240 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:06.247 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:06.383 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:15:06.391 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:06.408 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:15:06.408 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:06.425 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:15:06.435 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:15:06.471 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:15:06.540 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:15:06.620 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:15:06.840 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:15:06.897 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:06.958 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:15:06.960 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:08.546 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:15:08.550 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:15:08.551 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:15:08.551 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:08.552 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:15:08
2026-01-01 14:15:08.553 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:08.555 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:15:08.555 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 14m
2026-01-01 14:15:08.555 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 14m
2026-01-01 14:15:08.556 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 14m
2026-01-01 14:15:08.556 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 14m
2026-01-01 14:15:08.556 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 14m
2026-01-01 14:15:08.556 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 14m
2026-01-01 14:15:08.556 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:08.556 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:15:08.556 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:15:08.556 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:14.172 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:15:15.236 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:15.236 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:15.236 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:15:15.237 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:15.238 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:15:15.238 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:15:15.238 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:15:15.238 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:15:15.239 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:15:15.239 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:15:15.239 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:15.239 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:15:15.239 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:15.250 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:15:15.251 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:15.258 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:15.261 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:15.264 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:15.266 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:15.296 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:15:15.297 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:15.297 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:15:15.297 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:15.299 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:15:15.299 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:15:15.299 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:15:15.299 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:15:15.300 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:15:15.300 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:15:15.300 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:15.300 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:15:15.300 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:17.290 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:15:17.308 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:15:17.359 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:15:17.400 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:17.413 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:15:17
2026-01-01 14:15:17.418 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:17.484 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:15:17.487 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 14m
2026-01-01 14:15:17.491 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 14m
2026-01-01 14:15:17.497 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 14m
2026-01-01 14:15:17.499 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 14m
2026-01-01 14:15:17.499 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 14m
2026-01-01 14:15:17.501 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 14m
2026-01-01 14:15:17.504 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:17.505 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:15:17.505 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:15:17.505 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:22.973 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:15:24.232 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:24.233 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:24.234 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:15:24.235 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:24.237 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:15:24.237 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:15:24.237 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:15:24.237 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:15:24.238 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:15:24.238 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:15:24.238 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:24.238 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:15:24.239 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:24.251 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:15:24.253 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:24.261 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:24.266 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:24.269 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:24.272 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:24.322 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:15:24.323 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:24.324 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:15:24.324 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:15:24.327 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:25.368 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:15:25.370 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:15:25.370 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:15:25.370 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:25.370 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:15:25
2026-01-01 14:15:25.370 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:25.373 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:15:25.374 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 14m
2026-01-01 14:15:25.374 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 14m
2026-01-01 14:15:25.375 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 14m
2026-01-01 14:15:25.375 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 14m
2026-01-01 14:15:25.375 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 14m
2026-01-01 14:15:25.375 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 14m
2026-01-01 14:15:25.375 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:25.375 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:15:25.375 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:15:25.375 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:47.075 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:15:47.947 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:47.948 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:47.948 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:15:47.948 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:47.949 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:15:47.949 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:15:47.950 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:15:47.950 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:15:47.950 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:15:47.950 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:15:47.950 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:47.950 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:15:47.950 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:47.960 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:15:47.962 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:47.970 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:47.973 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:47.975 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:15:47.977 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:15:48.006 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:15:48.007 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:48.007 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:15:48.007 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:48.008 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:15:48.008 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:15:48.008 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:15:48.008 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:15:48.009 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:15:48.009 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:15:48.009 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:48.009 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:15:48.010 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:49.111 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:15:49.115 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:15:49.124 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:15:49.135 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:49.140 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:15:49
2026-01-01 14:15:49.147 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:49.149 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:15:49.150 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 14m
2026-01-01 14:15:49.154 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 14m
2026-01-01 14:15:49.155 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 14m
2026-01-01 14:15:49.155 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 14m
2026-01-01 14:15:49.157 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 14m
2026-01-01 14:15:49.157 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 14m
2026-01-01 14:15:49.157 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:15:49.157 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:15:49.157 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:15:49.157 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:00.131 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:16:01.037 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:01.037 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:01.037 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:16:01.037 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:01.037 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:16:01.038 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:16:01.038 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:16:01.038 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:16:01.038 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:16:01.039 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:16:01.039 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:01.039 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:16:01.039 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:01.049 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:16:01.049 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:01.057 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:01.062 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:01.065 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:01.066 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:01.097 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:16:01.098 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:01.098 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:16:01.099 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:01.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:16:01.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:16:01.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:16:01.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:16:01.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:16:01.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:16:01.100 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:01.101 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:16:01.101 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:03.097 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:16:03.163 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:16:03.192 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:16:03.239 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:03.279 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:16:03
2026-01-01 14:16:03.292 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:03.293 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:16:03.295 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 13m
2026-01-01 14:16:03.308 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 13m
2026-01-01 14:16:03.366 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 13m
2026-01-01 14:16:03.380 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 13m
2026-01-01 14:16:03.393 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 13m
2026-01-01 14:16:03.413 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 13m
2026-01-01 14:16:03.420 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:03.445 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:16:03.468 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:16:03.508 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:08.216 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:16:09.184 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:09.184 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:09.185 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:16:09.185 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:09.186 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:16:09.186 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:16:09.186 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:16:09.186 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:16:09.186 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:16:09.186 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:16:09.186 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:09.186 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:16:09.187 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:09.197 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:16:09.199 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:09.206 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:09.210 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:09.213 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:09.214 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:09.245 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:16:09.246 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:09.246 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:16:09.246 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:09.247 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:16:09.247 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:16:09.247 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:16:09.247 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:16:09.247 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:16:09.248 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:16:09.248 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:09.248 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:16:09.248 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:10.673 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:16:10.683 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:16:10.693 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:16:10.711 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:10.719 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:16:10
2026-01-01 14:16:10.733 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:10.740 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:16:10.743 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 13m
2026-01-01 14:16:10.748 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 13m
2026-01-01 14:16:10.748 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 13m
2026-01-01 14:16:10.748 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 13m
2026-01-01 14:16:10.750 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 13m
2026-01-01 14:16:10.750 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 13m
2026-01-01 14:16:10.750 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:10.750 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:16:10.752 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:16:10.752 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:57.789 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:16:58.689 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:58.690 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:58.690 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:16:58.690 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:58.692 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:16:58.692 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:16:58.692 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:16:58.692 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:16:58.693 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:16:58.693 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:16:58.693 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:58.693 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:16:58.693 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:58.702 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:16:58.704 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:58.711 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:58.714 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:58.717 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:16:58.719 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:16:58.747 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:16:58.747 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:58.747 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:16:58.747 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:16:58.750 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:59.955 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:16:59.958 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:16:59.958 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:16:59.959 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:59.959 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:16:59
2026-01-01 14:16:59.959 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:59.960 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:16:59.962 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 13m
2026-01-01 14:16:59.963 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 13m
2026-01-01 14:16:59.964 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 13m
2026-01-01 14:16:59.965 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 13m
2026-01-01 14:16:59.967 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 13m
2026-01-01 14:16:59.969 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 13m
2026-01-01 14:16:59.969 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:16:59.972 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:16:59.973 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:16:59.974 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:18.644 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:17:20.081 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:17:20.081 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:20.081 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:17:20.082 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:20.083 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:17:20.083 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:17:20.084 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:17:20.084 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:17:20.084 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:17:20.085 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:17:20.085 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:20.085 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:17:20.085 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:20.094 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:17:20.096 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:17:20.104 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:17:20.108 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:17:20.111 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:17:20.113 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:17:20.140 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:17:20.141 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:20.141 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:17:20.141 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:20.143 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:17:20.143 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:17:20.144 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:17:20.144 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:17:20.144 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:17:20.144 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:17:20.144 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:20.144 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:17:20.144 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:21.144 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:17:21.146 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:17:21.146 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:17:21.146 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:21.146 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:17:21
2026-01-01 14:17:21.146 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:21.148 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:17:21.149 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 12m
2026-01-01 14:17:21.149 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 12m
2026-01-01 14:17:21.149 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 12m
2026-01-01 14:17:21.149 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 12m
2026-01-01 14:17:21.149 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 12m
2026-01-01 14:17:21.149 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 12m
2026-01-01 14:17:21.149 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:17:21.150 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:17:21.150 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:17:21.150 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:14.376 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:18:15.845 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:18:15.846 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:15.846 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:18:15.846 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:15.847 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:18:15.847 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:18:15.847 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:18:15.847 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:18:15.847 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:18:15.847 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:18:15.848 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:15.849 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:18:15.849 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:15.863 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:18:15.866 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:18:15.875 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:18:15.879 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:18:15.881 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:18:15.885 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:18:15.929 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:18:15.930 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:15.930 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:18:15.930 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:15.932 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:18:15.932 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:18:15.932 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:18:15.932 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:18:15.932 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:18:15.933 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:18:15.933 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:15.933 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:18:15.933 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:17.590 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:18:17.593 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:18:17.593 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:18:17.593 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:17.593 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:18:17
2026-01-01 14:18:17.593 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:17.595 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:18:17.596 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 11m
2026-01-01 14:18:17.596 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 11m
2026-01-01 14:18:17.596 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 11m
2026-01-01 14:18:17.596 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 11m
2026-01-01 14:18:17.597 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 11m
2026-01-01 14:18:17.597 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 11m
2026-01-01 14:18:17.598 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:18:17.598 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:18:17.598 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:18:17.598 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:35.207 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:20:36.610 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:20:36.611 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:36.611 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | Discovering Upstox API Credentials from .env file
2026-01-01 14:20:36.611 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:36.613 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 0: PRIMARY (4871f658...)
2026-01-01 14:20:36.613 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 1: WEBSOCKET_1 (9aff3af3...)
2026-01-01 14:20:36.613 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 2: WEBSOCKET_2 (17bb10d9...)
2026-01-01 14:20:36.613 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 3: WEBSOCKET_3 (747e91fb...)
2026-01-01 14:20:36.613 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 4: OPTION_CHAIN_1 (04362a8f...)
2026-01-01 14:20:36.613 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Discovered API 5: OPTION_CHAIN_2 (096449e9...)
2026-01-01 14:20:36.613 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:36.613 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ✓ Total APIs discovered: 6
2026-01-01 14:20:36.614 [restartedMain] INFO  c.v.u.a.s.ApiCredentialsDiscovery | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:36.625 [restartedMain] INFO  c.v.u.a.db.SqliteDataSourceFactory | sid= uid= tid= | ✓ SQLite DataSource initialized: D:\projects\VEGA TRADER\backend\java\vega-trader\database\vega_trade.db
2026-01-01 14:20:36.625 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:20:36.634 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:20:36.638 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:20:36.640 [restartedMain] INFO  c.v.u.a.db.UpstoxTokenRepositoryImpl | sid= uid= tid= | ✓ upstox_tokens table ensured
2026-01-01 14:20:36.642 [restartedMain] INFO  c.v.u.a.s.v2.EnvConfigLoaderV2 | sid= uid= tid= | ✓ Loaded 18 properties from: D:\projects\VEGA TRADER\backend\java\vega-trader\.env
2026-01-01 14:20:36.679 [restartedMain] INFO  c.v.u.a.repository.TokenRepository | sid= uid= tid= | ✓ Database table 'upstox_tokens' verified/created.
2026-01-01 14:20:36.679 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:36.680 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Initializing Token Cache from Database
2026-01-01 14:20:36.680 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:36.681 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_1
2026-01-01 14:20:36.681 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: OPTION_CHAIN_2
2026-01-01 14:20:36.681 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: PRIMARY
2026-01-01 14:20:36.681 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_1
2026-01-01 14:20:36.682 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_2
2026-01-01 14:20:36.682 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ✓ Loaded token: WEBSOCKET_3
2026-01-01 14:20:36.683 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:36.683 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | Token Cache Initialized: 6 tokens
2026-01-01 14:20:36.683 [restartedMain] INFO  c.v.u.auth.provider.TokenProvider | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:37.746 [restartedMain] INFO  c.v.u.a.b.AuthStartupInitializer | sid= uid= tid= | [AUTH-BOOT] Hydrating tokens from database...
2026-01-01 14:20:37.749 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Valid APIs: 6 / 6
2026-01-01 14:20:37.750 [restartedMain] INFO  c.v.u.auth.state.AuthSessionState | sid= uid= tid= | [AUTH-HYDRATE] Missing: []
2026-01-01 14:20:37.750 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:37.750 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Starting token hydration at 2026-01-01 14:20:37
2026-01-01 14:20:37.750 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:37.752 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Found 6 valid tokens in database
2026-01-01 14:20:37.753 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_1 | Valid for: 13h 9m
2026-01-01 14:20:37.753 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: OPTION_CHAIN_2 | Valid for: 13h 9m
2026-01-01 14:20:37.753 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: PRIMARY | Valid for: 13h 9m
2026-01-01 14:20:37.753 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_1 | Valid for: 13h 9m
2026-01-01 14:20:37.753 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_2 | Valid for: 13h 9m
2026-01-01 14:20:37.753 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ Token hydrated: WEBSOCKET_3 | Valid for: 13h 9m
2026-01-01 14:20:37.753 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
2026-01-01 14:20:37.753 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] Hydration complete | Valid=6 | Missing=0
2026-01-01 14:20:37.754 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | [AUTH-HYDRATION] ✓ All tokens present and valid
2026-01-01 14:20:37.754 [restartedMain] INFO  c.v.u.a.l.TokenHydrationService | sid= uid= tid= | ═══════════════════════════════════════════════════════
